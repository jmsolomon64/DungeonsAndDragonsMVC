@using DungeonsAndDragons.Model.Equipment
@using Newtonsoft.Json
@inject HttpClient _client;
@_client.BaseAddress = $"http://localhost:5091/api/Equipment"








@code {
    public IEnumerable<EquipmentDetail> Items { get; set; }
    public bool IsLoading { get; set; }


    //I want to use client to call out to API in project to pull all Items and display their information.
    protected async Task GetAllItemsAsync()
    {
        IsLoading = true;
        Items = GetAllItems();
    }

    public async IAsyncEnumerable<EquipmentDetail> GetAllItems()
    {
        var response = await _client.GetAsync(_client.BaseAddress + "/ViewAllItems");
        var result = await response.Content.ReadAsStringAsync();

        var items = JsonConvert.DeserializeObject<IAsyncEnumerable<EquipmentDetail>>(result);

        yield return items;
    }
}